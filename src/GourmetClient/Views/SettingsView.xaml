<views:InitializableView x:Class="GourmetClient.Views.SettingsView"
                         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:behaviors="clr-namespace:GourmetClient.Behaviors"
                         xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                         xmlns:viewModels="clr-namespace:GourmetClient.ViewModels"
                         xmlns:views="clr-namespace:GourmetClient.Views"
                         d:DataContext="{d:DesignInstance viewModels:SettingsViewModel,
                                                          IsDesignTimeCreatable=False}"
                         d:DesignHeight="450"
                         d:DesignWidth="800"
                         mc:Ignorable="d">
	<UserControl.Resources>
		<behaviors:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />

		<Style x:Key="SettingsButtonStyle"
		       TargetType="{x:Type Button}">
			<Setter Property="Height" Value="30" />
			<Setter Property="Margin" Value="5" />
			<Setter Property="Padding" Value="5,0" />
		</Style>

		<DataTemplate x:Key="GroupBoxHeaderTemplate">
			<TextBlock Margin="2,0"
			           FontWeight="SemiBold"
			           Text="{Binding}" />
		</DataTemplate>
	</UserControl.Resources>
	<StackPanel Orientation="Vertical">
		<GroupBox Margin="10,5"
		          Header="Gourmet"
		          HeaderTemplate="{StaticResource GroupBoxHeaderTemplate}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition />
				</Grid.ColumnDefinitions>

				<TextBlock Grid.Row="0"
				           Grid.Column="0"
				           Margin="5"
				           Text="Benutzername:" />
				<TextBox Grid.Row="0"
				         Grid.Column="1"
				         Margin="5"
				         Text="{Binding LoginUsername, UpdateSourceTrigger=PropertyChanged}" />

				<TextBlock Grid.Row="1"
				           Grid.Column="0"
				           Margin="5"
				           Text="Passwort:" />
				<PasswordBox x:Name="LoginPasswordBox"
				             Grid.Row="1"
				             Grid.Column="1"
				             Margin="5"
				             Password="InitialPassword"
				             PasswordChanged="LoginPasswordBox_OnPasswordChanged" />
			</Grid>
		</GroupBox>

		<GroupBox Margin="10,5"
		          Header="Ventopay"
		          HeaderTemplate="{StaticResource GroupBoxHeaderTemplate}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition />
				</Grid.ColumnDefinitions>

				<TextBlock Grid.Row="0"
				           Grid.Column="0"
				           Margin="5"
				           Text="Benutzername:" />
				<TextBox Grid.Row="0"
				         Grid.Column="1"
				         Margin="5"
				         Text="{Binding VentopayUsername, UpdateSourceTrigger=PropertyChanged}" />

				<TextBlock Grid.Row="1"
				           Grid.Column="0"
				           Margin="5"
				           Text="Passwort:" />
				<PasswordBox x:Name="VentopayPasswordBox"
				             Grid.Row="1"
				             Grid.Column="1"
				             Margin="5"
				             Password="InitialPassword"
				             PasswordChanged="VentopayPasswordBox_OnPasswordChangedPasswordBox_OnPasswordChanged" />
			</Grid>
		</GroupBox>

		<GroupBox Margin="10,5"
		          Header="Updates"
		          HeaderTemplate="{StaticResource GroupBoxHeaderTemplate}">
			<StackPanel Orientation="Vertical">
				<CheckBox Margin="5"
				          Content="Automatisch auf neue Versionen prüfen"
				          IsChecked="{Binding CheckForUpdates}" />

				<Button HorizontalAlignment="Left"
				        Command="{Binding JoinNextPreReleaseVersionCommand}"
				        Content="Vorab-Version installieren"
				        Style="{StaticResource SettingsButtonStyle}"
				        Visibility="{Binding IsEnabled, RelativeSource={RelativeSource Self}, Converter={StaticResource BoolToVisibilityConverter}}" />
			</StackPanel>
		</GroupBox>

		<Button Margin="10,5,10,10"
		        HorizontalAlignment="Right"
		        Command="{Binding SaveSettingsCommand}"
		        Content="Übernehmen"
		        Style="{StaticResource SettingsButtonStyle}" />
	</StackPanel>
</views:InitializableView>
