<views:InitializableView x:Class="GourmetClient.Views.MenuOrderView"
                         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
                         xmlns:behaviors="clr-namespace:GourmetClient.Behaviors"
                         xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                         xmlns:models="clr-namespace:GourmetClient.Model"
                         xmlns:system="clr-namespace:System;assembly=System.Runtime"
                         xmlns:viewModels="clr-namespace:GourmetClient.ViewModels"
                         xmlns:views="clr-namespace:GourmetClient.Views"
                         d:DataContext="{d:DesignInstance viewModels:MenuOrderViewModel,
                                                          IsDesignTimeCreatable=False}"
                         d:DesignHeight="450"
                         d:DesignWidth="800"
                         mc:Ignorable="d">
	<views:InitializableView.Resources>
		<behaviors:BoolInvertConverter x:Key="BoolInvertConverter" />
		<behaviors:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
		<behaviors:AllergensToStringConverter x:Key="AllergensToStringConverter" />

		<Brush x:Key="ActionBarBackgroundBrush">#F2F2F2</Brush>
		<Brush x:Key="DayBackgroundBrush">#F2F2F2</Brush>

		<Style x:Key="BorderOverlayStyle"
		       TargetType="{x:Type Border}">
			<Setter Property="Background" Value="LightGray" />
			<Setter Property="Opacity" Value="0.4" />
		</Style>

		<Style x:Key="ActionBarMenuButtonStyle"
		       BasedOn="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
		       TargetType="{x:Type Button}">
			<Setter Property="IsEnabled" Value="{Binding IsChecked, ElementName=ShowBillToggleButton, Converter={StaticResource BoolInvertConverter}}" />
		</Style>

		<Style x:Key="ActionBarIconStyle"
		       TargetType="{x:Type Image}">
			<Setter Property="Width" Value="32" />
			<Setter Property="Height" Value="32" />
		</Style>

		<DataTemplate x:Key="CategoryHeaderTemplate"
		              DataType="{x:Type models:GourmetMenuCategory}">
			<Border BorderBrush="{StaticResource DayBackgroundBrush}"
			        BorderThickness="2,0,0,0">
				<TextBlock Margin="12,0,0,0"
				           VerticalAlignment="Center"
				           FontSize="20"
				           TextTrimming="CharacterEllipsis">
					<TextBlock.Style>
						<Style TargetType="{x:Type TextBlock}">
							<Setter Property="Text" Value="" />
							<Style.Triggers>
								<DataTrigger Binding="{Binding}"
								             Value="{x:Static models:GourmetMenuCategory.Menu1}">
									<Setter Property="Text" Value="Menü 1" />
								</DataTrigger>
								<DataTrigger Binding="{Binding}"
								             Value="{x:Static models:GourmetMenuCategory.Menu2}">
									<Setter Property="Text" Value="Menü 2" />
								</DataTrigger>
								<DataTrigger Binding="{Binding}"
								             Value="{x:Static models:GourmetMenuCategory.Menu3}">
									<Setter Property="Text" Value="Menü 3" />
								</DataTrigger>
								<DataTrigger Binding="{Binding}"
								             Value="{x:Static models:GourmetMenuCategory.SoupAndSalad}">
									<Setter Property="Text" Value="Suppe &amp; Salat" />
								</DataTrigger>
							</Style.Triggers>
						</Style>
					</TextBlock.Style>
				</TextBlock>
			</Border>
		</DataTemplate>

		<DataTemplate x:Key="MenuTemplate"
		              DataType="{x:Type viewModels:GourmetMenuViewModel}">
			<DockPanel LastChildFill="True">
				<Border Width="2"
				        Margin="0,-2"
				        Background="{StaticResource DayBackgroundBrush}"
				        DockPanel.Dock="Left" />
				<Border Height="120"
				        Background="White"
				        BorderBrush="{StaticResource DayBackgroundBrush}"
				        BorderThickness="0,2">
					<Button Margin="10,0"
					        HorizontalAlignment="Stretch"
					        VerticalAlignment="Stretch"
					        HorizontalContentAlignment="Stretch"
					        VerticalContentAlignment="Top"
					        Command="{Binding DataContext.ToggleMenuOrderedMarkCommand, ElementName=Root, Mode=OneTime}"
					        CommandParameter="{Binding}"
					        Cursor="Hand"
					        Focusable="False"
					        Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}">
						<Grid Margin="0,10,0,0">
							<Grid.ColumnDefinitions>
								<ColumnDefinition />
								<ColumnDefinition Width="Auto" />
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition />
								<RowDefinition Height="Auto" />
							</Grid.RowDefinitions>
							<TextBlock Grid.Row="0"
							           Grid.Column="0"
							           FontSize="14"
							           Text="{Binding MenuDescription}"
							           TextTrimming="CharacterEllipsis"
							           TextWrapping="Wrap"
							           ToolTipService.ShowOnDisabled="True">
								<TextBlock.Style>
									<Style TargetType="{x:Type TextBlock}">
										<Style.Triggers>
											<DataTrigger Binding="{Binding Path=(behaviors:IsTextTrimmedBehavior.IsTextTrimmed), RelativeSource={RelativeSource Self}}"
											             Value="True">
												<Setter Property="ToolTip" Value="{Binding RelativeSource={x:Static RelativeSource.Self}, Path=Text}" />
											</DataTrigger>
										</Style.Triggers>
									</Style>
								</TextBlock.Style>
								<b:Interaction.Behaviors>
									<behaviors:IsTextTrimmedBehavior />
								</b:Interaction.Behaviors>
							</TextBlock>
							<TextBlock Grid.Row="1"
							           Grid.Column="0"
							           Margin="0,5,0,0"
							           FontStyle="Italic"
							           Text="{Binding Allergens, Converter={StaticResource AllergensToStringConverter}}" />
							<StackPanel Grid.Row="0"
							            Grid.RowSpan="2"
							            Grid.Column="1"
							            Margin="5,0"
							            Orientation="Vertical">
								<Image Width="16"
								       Height="16"
								       ToolTipService.ShowOnDisabled="True">
									<Image.Style>
										<Style TargetType="{x:Type Image}">
											<Style.Triggers>
												<DataTrigger Binding="{Binding MenuState}"
												             Value="{x:Static viewModels:GourmetMenuState.None}">
													<Setter Property="Visibility" Value="Hidden" />
												</DataTrigger>
												<DataTrigger Binding="{Binding MenuState}"
												             Value="{x:Static viewModels:GourmetMenuState.NotAvailable}">
													<Setter Property="Source" Value="/Resources/Icons/MenuNotAvailable.png" />
													<Setter Property="ToolTip" Value="Menü kann nicht bestellt werden" />
												</DataTrigger>
												<DataTrigger Binding="{Binding MenuState}"
												             Value="{x:Static viewModels:GourmetMenuState.MarkedForOrder}">
													<Setter Property="Source" Value="/Resources/Icons/MenuMarkedForOrder.png" />
													<Setter Property="ToolTip" Value="Menü wird bestellt" />
												</DataTrigger>
												<DataTrigger Binding="{Binding MenuState}"
												             Value="{x:Static viewModels:GourmetMenuState.MarkedForCancel}">
													<Setter Property="Source" Value="/Resources/Icons/MenuMarkedForCancel.png" />
													<Setter Property="ToolTip" Value="Menü wird abbestellt" />
												</DataTrigger>
												<MultiDataTrigger>
													<MultiDataTrigger.Conditions>
														<Condition Binding="{Binding MenuState}" Value="{x:Static viewModels:GourmetMenuState.Ordered}" />
														<Condition Binding="{Binding IsOrderCancelable}" Value="True" />
													</MultiDataTrigger.Conditions>
													<Setter Property="Source" Value="/Resources/Icons/MenuOrdered.png" />
													<Setter Property="ToolTip" Value="Menü ist bestellt" />
												</MultiDataTrigger>
												<MultiDataTrigger>
													<MultiDataTrigger.Conditions>
														<Condition Binding="{Binding MenuState}" Value="{x:Static viewModels:GourmetMenuState.Ordered}" />
														<Condition Binding="{Binding IsOrderCancelable}" Value="False" />
													</MultiDataTrigger.Conditions>
													<Setter Property="Source" Value="/Resources/Icons/MenuOrdered.png" />
													<Setter Property="ToolTip" Value="Menü ist bestellt und kann nicht storniert werden" />
												</MultiDataTrigger>
											</Style.Triggers>
										</Style>
									</Image.Style>
								</Image>
								<Image Width="16"
								       Height="16"
								       Margin="0,5,0,0"
								       Source="/Resources/Icons/Warning.png"
								       ToolTip="Bestellung ist nicht bestätigt"
								       ToolTipService.ShowOnDisabled="True">
									<Image.Style>
										<Style TargetType="{x:Type Image}">
											<Setter Property="Visibility" Value="Hidden" />
											<Style.Triggers>
												<MultiDataTrigger>
													<MultiDataTrigger.Conditions>
														<Condition Binding="{Binding IsOrdered}" Value="True" />
														<Condition Binding="{Binding IsOrderApproved}" Value="False" />
													</MultiDataTrigger.Conditions>
													<Setter Property="Visibility" Value="Visible" />
												</MultiDataTrigger>
											</Style.Triggers>
										</Style>
									</Image.Style>
								</Image>
							</StackPanel>
						</Grid>
					</Button>
				</Border>
			</DockPanel>
		</DataTemplate>

		<DataTemplate x:Key="MenuDayTemplate"
		              DataType="{x:Type viewModels:GourmetMenuDayViewModel}">
			<Grid Margin="0,2">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition />
				</Grid.ColumnDefinitions>
				<Border Grid.Column="0"
				        Width="100"
				        Background="{StaticResource DayBackgroundBrush}">
					<DockPanel Margin="10">
						<TextBlock DockPanel.Dock="Top"
						           FontSize="26"
						           Text="{behaviors:CultureAwareBinding Date,
						                                                StringFormat='dd.MM'}" />
						<TextBlock DockPanel.Dock="Bottom"
						           FontSize="14"
						           Text="{behaviors:CultureAwareBinding Date,
						                                                StringFormat='dddd'}" />
					</DockPanel>
				</Border>
				<ItemsControl Grid.Column="1"
				              ItemTemplate="{StaticResource MenuTemplate}"
				              ItemsSource="{Binding Menus}">
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<UniformGrid Rows="1" />
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>
				</ItemsControl>
			</Grid>
		</DataTemplate>
	</views:InitializableView.Resources>

	<Grid x:Name="Root">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
			<RowDefinition />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>
		<Border Grid.Row="0"
		        Background="{StaticResource ActionBarBackgroundBrush}">
			<DockPanel VerticalAlignment="Stretch"
			           LastChildFill="False">
				<StackPanel Margin="2"
				            DockPanel.Dock="Left"
				            Orientation="Horizontal">
					<ToggleButton x:Name="ShowBillToggleButton"
					              Checked="ShowBillToggleButtonOnChecked"
					              Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}"
					              ToolTip="Transaktionen anzeigen">
						<ToggleButton.Content>
							<Image Source="/Resources/Icons/Bill.png"
							       Style="{StaticResource ActionBarIconStyle}" />
						</ToggleButton.Content>
						<ToggleButton.Triggers>
							<EventTrigger RoutedEvent="ToggleButton.Checked">
								<BeginStoryboard>
									<Storyboard>
										<DoubleAnimation AccelerationRatio="0.4"
										                 AutoReverse="False"
										                 Storyboard.TargetName="BillingViewContainer"
										                 Storyboard.TargetProperty="Width"
										                 To="500"
										                 Duration="00:00:00.2" />
									</Storyboard>
								</BeginStoryboard>
							</EventTrigger>
							<EventTrigger RoutedEvent="ToggleButton.Unchecked">
								<BeginStoryboard>
									<Storyboard>
										<DoubleAnimation AccelerationRatio="0.4"
										                 AutoReverse="False"
										                 Storyboard.TargetName="BillingViewContainer"
										                 Storyboard.TargetProperty="Width"
										                 To="0"
										                 Duration="00:00:00.2" />
									</Storyboard>
								</BeginStoryboard>
							</EventTrigger>
						</ToggleButton.Triggers>
					</ToggleButton>

					<Separator Margin="5,2"
					           Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" />

					<Button Command="{Binding UpdateMenuCommand, Mode=OneTime}"
					        Style="{StaticResource ActionBarMenuButtonStyle}"
					        ToolTip="Lokale Daten aktualisieren">
						<Image Source="/Resources/Icons/RefreshLocalData.png"
						       Style="{StaticResource ActionBarIconStyle}" />
					</Button>
					<Button Margin="5,0"
					        Command="{Binding ExecuteSelectedOrderCommand}"
					        Style="{StaticResource ActionBarMenuButtonStyle}"
					        ToolTip="Bestellung ausführen">
						<Button.Triggers>
							<EventTrigger RoutedEvent="Button.Click">
								<BeginStoryboard>
									<Storyboard>
										<ThicknessAnimationUsingKeyFrames AccelerationRatio="0.4"
										                                  Storyboard.TargetProperty="Margin">
											<SplineThicknessKeyFrame KeyTime="00:00:00"
											                         Value="5,0,0,0" />
											<SplineThicknessKeyFrame KeyTime="00:00:01"
											                         Value="400,0,0,0" />
										</ThicknessAnimationUsingKeyFrames>
										<DoubleAnimation AccelerationRatio="0.4"
										                 AutoReverse="False"
										                 Storyboard.TargetProperty="Opacity"
										                 From="1"
										                 To="0"
										                 Duration="00:00:01" />
										<ThicknessAnimationUsingKeyFrames BeginTime="00:00:02"
										                                  DecelerationRatio="0.4"
										                                  Storyboard.TargetProperty="Margin">
											<SplineThicknessKeyFrame KeyTime="00:00:00"
											                         Value="-40,0,0,0" />
											<SplineThicknessKeyFrame KeyTime="00:00:00.500"
											                         Value="5,0,0,0" />
										</ThicknessAnimationUsingKeyFrames>
										<DoubleAnimation AutoReverse="False"
										                 BeginTime="00:00:02"
										                 DecelerationRatio="0.4"
										                 Storyboard.TargetProperty="Opacity"
										                 From="0"
										                 To="1"
										                 Duration="00:00:00.500" />
									</Storyboard>
								</BeginStoryboard>
							</EventTrigger>
						</Button.Triggers>
						<Image Source="/Resources/Icons/ExecuteOrder.png"
						       Style="{StaticResource ActionBarIconStyle}" />
					</Button>
				</StackPanel>
				<StackPanel Margin="2"
				            DockPanel.Dock="Right"
				            Orientation="Horizontal">
					<ToggleButton x:Name="AboutButton"
					              Margin="5,0"
					              Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}"
					              ToolTip="Über">
						<Image Source="/Resources/Icons/Information.png"
						       Style="{StaticResource ActionBarIconStyle}" />
					</ToggleButton>
					<ToggleButton x:Name="SettingsButton"
					              IsChecked="{Binding IsSettingsPopupOpened}"
					              Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}"
					              ToolTip="Einstellungen">
						<Image Source="/Resources/Icons/Settings.png"
						       Style="{StaticResource ActionBarIconStyle}" />
					</ToggleButton>
				</StackPanel>
			</DockPanel>
		</Border>

		<Popup Grid.Row="0"
		       Width="300"
		       AllowsTransparency="True"
		       HorizontalOffset="-8"
		       IsOpen="{Binding IsChecked, ElementName=AboutButton}"
		       PlacementTarget="{Binding ElementName=AboutButton}"
		       PopupAnimation="Fade"
		       StaysOpen="False"
		       VerticalOffset="5">
			<Grid>
				<Border Margin="10,9,20,20"
				        Background="White"
				        BorderBrush="Black"
				        BorderThickness="1">
					<Border.Effect>
						<DropShadowEffect BlurRadius="15" />
					</Border.Effect>
					<views:AboutView />
				</Border>
				<Polyline Margin="28,0,0,0"
				          HorizontalAlignment="Left"
				          Fill="White"
				          Points="-10,10 0,0 10,10"
				          Stroke="Black"
				          StrokeThickness="1" />
			</Grid>
		</Popup>

		<Popup Grid.Row="0"
		       Width="320"
		       AllowsTransparency="True"
		       HorizontalOffset="-8"
		       IsOpen="{Binding IsSettingsPopupOpened}"
		       PlacementTarget="{Binding ElementName=SettingsButton}"
		       PopupAnimation="Fade"
		       StaysOpen="False"
		       VerticalOffset="5">
			<Grid>
				<Border Margin="10,9,20,20"
				        Background="White"
				        BorderBrush="Black"
				        BorderThickness="1">
					<Border.Effect>
						<DropShadowEffect BlurRadius="15" />
					</Border.Effect>
					<views:SettingsView />
				</Border>
				<Polyline Margin="28,0,0,0"
				          HorizontalAlignment="Left"
				          Fill="White"
				          Points="-10,10 0,0 10,10"
				          Stroke="Black"
				          StrokeThickness="1" />
			</Grid>
		</Popup>

		<Border Grid.Row="1"
		        MaxHeight="100"
		        BorderBrush="Gray">
			<Border.Style>
				<Style TargetType="{x:Type Border}">
					<Setter Property="BorderThickness" Value="0,1,0,0" />
					<Style.Triggers>
						<DataTrigger Binding="{Binding ActualHeight, ElementName=NotificationsView}"
						             Value="0">
							<Setter Property="BorderThickness" Value="0" />
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</Border.Style>
			<ScrollViewer HorizontalScrollBarVisibility="Disabled"
			              VerticalScrollBarVisibility="Auto">
				<views:NotificationsView x:Name="NotificationsView" />
			</ScrollViewer>
		</Border>

		<Border Grid.Row="2"
		        Height="1"
		        Background="Gray" />

		<Grid Grid.Row="3">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="70" />
					<RowDefinition Height="Auto" />
					<RowDefinition />
				</Grid.RowDefinitions>
				<Grid Grid.Row="0">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition />
						<ColumnDefinition Width="Auto" />
					</Grid.ColumnDefinitions>
					<Border Grid.Column="0"
					        Width="100"
					        Background="{StaticResource DayBackgroundBrush}" />
					<ItemsControl Grid.Column="1"
					              ItemTemplate="{StaticResource CategoryHeaderTemplate}"
					              ItemsSource="{Binding MenuCategories}">
						<ItemsControl.ItemsPanel>
							<ItemsPanelTemplate>
								<UniformGrid Rows="1" />
							</ItemsPanelTemplate>
						</ItemsControl.ItemsPanel>
					</ItemsControl>
					<Border Grid.Column="2">
						<Border.Style>
							<Style TargetType="{x:Type Border}">
								<Setter Property="Width" Value="0" />
								<Style.Triggers>
									<DataTrigger Binding="{Binding ComputedVerticalScrollBarVisibility, ElementName=MenuScrollViewer}"
									             Value="Visible">
										<Setter Property="Width" Value="{x:Static SystemParameters.VerticalScrollBarWidth}" />
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</Border.Style>
					</Border>
				</Grid>
				<ScrollViewer x:Name="MenuScrollViewer"
				              Grid.Row="2"
				              HorizontalScrollBarVisibility="Disabled"
				              ScrollChanged="MenuScrollViewerOnScrollChanged"
				              VerticalScrollBarVisibility="Auto">
					<ItemsControl ItemTemplate="{StaticResource MenuDayTemplate}"
					              ItemsSource="{Binding MenuDays}" />
				</ScrollViewer>
				<Border Grid.Row="2"
				        Height="15"
				        VerticalAlignment="Top"
				        BorderThickness="0"
				        IsHitTestVisible="False">
					<Border.Background>

						<LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
							<GradientStop Offset="0.0" Color="Gray" />
							<GradientStop Offset="0.2" Color="#80808080" />
							<GradientStop Offset="1.0" Color="#00808080" />
						</LinearGradientBrush>
					</Border.Background>
				</Border>
			</Grid>


			<Grid Background="Transparent"
			      Visibility="{Binding IsMenuUpdating, Converter={StaticResource BoolToVisibilityConverter}}">
				<Border Style="{StaticResource BorderOverlayStyle}" />
				<views:LoadingSpinner Width="70"
				                      Height="70"
				                      SpinnerThickness="8" />
			</Grid>

			<Border MouseLeftButtonDown="MenuBillViewOverlayOnMouseLeftButtonDown"
			        Style="{StaticResource BorderOverlayStyle}"
			        Visibility="{Binding IsChecked, ElementName=ShowBillToggleButton, Converter={StaticResource BoolToVisibilityConverter}}" />

			<Border x:Name="BillingViewContainer"
			        Width="0"
			        Margin="0,1"
			        HorizontalAlignment="Left"
			        Background="White"
			        BorderBrush="Gray"
			        BorderThickness="0,0,1,0">
				<views:BillingView x:Name="BillingView"
				                   Width="500"
				                   Margin="10" />
			</Border>
		</Grid>

		<Canvas Grid.Row="3"
		        Background="White"
		        Visibility="{Binding ShowWelcomeMessage, Converter={StaticResource BoolToVisibilityConverter}}">
			<TextBlock Canvas.Top="80"
			           Canvas.Right="100"
			           FontFamily="Comic Sans MS"
			           FontSize="20"
			           Text="Zur Verwendung zuerst Login-Daten angeben" />
			<Path Canvas.Right="20"
			      Stroke="Black"
			      StrokeThickness="3">
				<Path.Data>
					<PathGeometry>
						<PathGeometry.Figures>
							<PathFigureCollection>
								<PathFigure StartPoint="0,80">
									<PathFigure.Segments>
										<PathSegmentCollection>
											<PolyBezierSegment Points="20,70 50,60 70,15" />
										</PathSegmentCollection>
									</PathFigure.Segments>
								</PathFigure>
								<PathFigure StartPoint="70,15">
									<PathFigure.Segments>
										<LineSegment Point="53,25" />
									</PathFigure.Segments>
								</PathFigure>
								<PathFigure StartPoint="70,15">
									<PathFigure.Segments>
										<LineSegment Point="75,32" />
									</PathFigure.Segments>
								</PathFigure>
							</PathFigureCollection>
						</PathGeometry.Figures>
					</PathGeometry>
				</Path.Data>
			</Path>
		</Canvas>

		<Border Grid.Row="4"
		        Height="1"
		        Background="Gray" />

		<StatusBar Grid.Row="5">
			<StatusBarItem x:Name="NameOfUserStatusBarItem">
				<StatusBarItem.Style>
					<Style TargetType="{x:Type StatusBarItem}">
						<Style.Triggers>
							<DataTrigger Binding="{Binding NameOfUser}"
							             Value="{x:Null}">
								<Setter Property="Visibility" Value="Collapsed" />
							</DataTrigger>
						</Style.Triggers>
					</Style>
				</StatusBarItem.Style>
				<TextBlock Text="{Binding NameOfUser, StringFormat='{}Eingeloggt als: {0}'}" />
			</StatusBarItem>
			<Separator Visibility="{Binding Visibility, ElementName=NameOfUserStatusBarItem}" />
			<StatusBarItem>
				<StatusBarItem.Style>
					<Style TargetType="{x:Type StatusBarItem}">
						<Style.Triggers>
							<DataTrigger Binding="{Binding LastMenuUpdate}"
							             Value="{x:Static system:DateTime.MinValue}">
								<Setter Property="Visibility" Value="Collapsed" />
							</DataTrigger>
						</Style.Triggers>
					</Style>
				</StatusBarItem.Style>
				<TextBlock Text="{behaviors:CultureAwareBinding LastMenuUpdate, StringFormat='{}Letzte Aktualisierung: {0:g}'}" />
			</StatusBarItem>
		</StatusBar>
	</Grid>
</views:InitializableView>
